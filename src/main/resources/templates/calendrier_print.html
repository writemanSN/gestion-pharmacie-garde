<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Calendrier de Garde</title>
    <style>
        body {
            font-family: "Segoe UI", sans-serif;
            margin: 30px;
            color: #222;
        }

        h1, h2 {
            text-align: center;
            margin-bottom: 5px;
        }

        .subtitle {
            text-align: center;
            font-size: 14px;
            color: #555;
            margin-bottom: 30px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
        }

        th, td {
            border: 1px solid #444;
            padding: 10px;
            text-align: left;
            vertical-align: top;
        }

        th {
            background-color: #f0f0f0;
        }

        @media print {
            .no-print {
                display: none;
            }
        }

        .semaine-title {
            background-color: #ddd;
            padding: 10px;
            margin-top: 30px;
            font-weight: bold;
        }
    </style>
</head>
<body onload="window.print()">

<!-- TITRE -->
<h1>Calendrier de Garde des Pharmacies</h1>
<h2 th:text="'Commune : ' + ${calendrier.responsable.commune}"></h2>
<div class="subtitle">
    NB : Ã€ <span th:text="${calendrier.responsable.commune}"></span>,
    seules les pharmacies de garde restent ouvertes les dimanches.
</div>

<!-- NOM DU CALENDRIER -->
<h2 th:text="'Calendrier : ' + ${calendrier.nom}"></h2>

<!-- LISTE DES SEMAINES -->
<div th:each="ligne : ${calendrierHebdo}">
    <div class="semaine-title"
         th:text="'Semaine ' + ${ligne.numeroSemaine} + ' - Groupe ' + ${ligne.groupe.numero} + ' (' + ${ligne.debutSemaine} + ' au ' + ${ligne.finSemaine} + ')'">
    </div>

    <table>
        <thead>
        <tr>
            <th>Groupe</th>
            <th>Pharmacies</th>
            <th>Adresse</th>
            <th>Contact</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="ph : ${ligne.groupe.pharmacies}">
            <td th:text="'Groupe ' + ${ligne.groupe.numero}"></td>
            <td th:text="${ph.nom}"></td>
            <td th:text="${ph.adresse}"></td>
            <td th:text="${ph.contact}"></td>
        </tr>
        </tbody>
    </table>
</div>

</body>
</html>
